0.81u4
------

ソース全般の変更：
------------------

■Hyperstone CPUコアの修正。[Pierpaolo Prazzoli]
    - ディスプレースメントアドレスモードPCを使うロード・ストア命令がデスティ
      ネーションレジスタとして扱われる次バイトのアドレッシングを追加
    - ローカルレジスタによるmodulo 64のラップアラウンドを追加
    - DASMにトラップ命令追加
    - Added some debug info when high global registers are written
    - DASMの間違いフォーマットを修正
    - ドキュメントにあるようにリセットを例外として動作するように変更

■「Killer Instinct」の修正。[Aaron Giles]
    * メモリマップのクリーンアップ
    * 2つ目のビットマップページが判明。表示系の大幅修正と以前導入したインチキハック削
      除
    * サウンドのリセットと初期化を修正
    * システム診断項目を全てパス
    * コインエイジのDIP修正
    * それぞれに別ROMセットを追加
    修正: kinst067gre2, kinst072gre

■MIPS DRCの修正。[Aaron Giles]
    以下のようなメモリアクセスのエッジケースを修正:
      lw  r3,$0(r0)
    これが、変なステートでスタックを残しクラッシュにつながっていたもの。
    kinst067redが修正

    以下のフォームの命令:
      ld   r10,0(r10)
    この場合、r10に下位ワードを最初にロードして、上位ワードのアドレスには変更された
    r10（プラス4）を使っていました。超最悪です。
    これによりkinst2の空のグラフィック表示が修正されました

■ZNの改善。[smf]
    「Judge Dreadd」で24ビットレンダリングをサポート

■'jalmah'ドライバのアップデート。[Angelo Salese]
    「麻雀革命」「同2」が起動するようになりましたがプロテクトのためにどちらもプレイは
     不可

■アップデートをいろいろ。[Nathan Woods]
    src/windows/windows.mak:
    - 前に言っていたx68drc.cの問題を修正

    src/fileio.c:
    src/windows/fileio.c:
    - ファイルを読み書き用にオープンするための（Windowsのみの）新モードを追加しました。
      変更部分は実際にはオリジナルファイルではなく一時ファイルに書き込まれます。これ
      はMESSで、操作中のイメージを変更することなくテストできるようにする技として使わ
      れているものです。
    - 少しクリーンアップ

    src/png.c:
    - APPNAMEマクロを使い、#ifdef MESS/#else/#endifを削除

■SPI / 386の更新。[Ville Linde]
    *「ライデンファイターズ」が起動してアトラクトモードとゲームプレイまで進む
      ようになりました、がグラフィックは暗号化されたままなので、なんかうっとり :-)
    *「バイパーフェイズ1」が起動だけするようになりましたが、それ以上は進みません
    * Z80のバンク切り替え実装でサウンドが一部で鳴り出しました
      （特に「ライデンファイターズ」）(R.Belmont)

■ST-Vのアップデート。[Mariusz Wojcieszek]
    「グルーブオンファイト」のスプライト修正でプレイ可能になりました。
    また「コットン2」「コットンブーメラン」「ガーディアンフォース」「オセロしようよ」
    もRGB0のスクロール追加でかなり改善しています。

■デバッガの修正。[Aaron Giles]
    新メモリシステムについてデバッガを使いやすくしてみました。アドレスとデータマスク
    は再び正しく動作するようになっています

    また、どのメモリウィンドウにも移動可能で、Pキーでプログラムアドレス空間の表示、T
    キーで、データアドレス空間の表示ができます

■OSDによる'NO EXECUTE'のサポート。[Aaron Giles]
    このパッチは以下の2つの新関数をOSDに導入します：

    osd_alloc_executable();
    osd_free_executable();

    ほとんどのプラットフォームでは、mallocとfreeのマップが出来るだけですが、WinXP SP2
    よりNO_EXECUTEビットをサポートするプロセッサ（今のところAMDの64ビットチップのみ）
    で動作させると、通常のユーザーモードではコードをメモリに配置して実行することは許
    可されません。

    これはx86drc.cと全く同じことを行うため、上の2つの関数を追加しました。Windowsでは、
    VirtualAllocとVirtualFreeの呼び出しをマップします。これにより配置したページのリー
    ド、ライト、実行の各ステートを指定することができます。

■「Lethal Justice」「Egg Venture」のクリーンアップ。[Aaron Giles]
    * メモリマップの統合
    * 「Egg Venture」の点滅が正しくなるように表示サイズ修正
    * VIDEO_RGB_DIRECTにスイッチ
    * 不要なROMリージョンとメモリコピーを削除

■Rockolaのクリーンアップと修正。[Curt Coder]
    * ファンタジー/ニブラー/パイオニアバルーン
    drivers/rockola.c
    sndhrdw/rockola.c
    - 回路図より正確なCPU周波数を取得
    - ボムエフェクト用にSN76477サウンドを実装
    - メモリマップを統合
    - ドライバを少しクリーンアップ
    - DIPスイッチの修正
    - デバッグ入力を有効化


新規サポートまたはGAME_NOT_WORKINGが取れたゲーム：
--------------------------------------------------

ゴーストロップ (プロトタイプ)

スーパーライダー [Aaron Giles]

ST-Vゲームいくつか
    動作速度はまだかなり遅いです ;-)
    グルーヴオンファイト [Mariusz Wojcieszek]
    オセロしようよ [Mariusz Wojcieszek]
    団地で花札 [thanks to Runik/Saturnin]


新規サポートクローンまたはGAME_NOT_WORKINGが取れたゲーム：
----------------------------------------------------------

Driving Force (ギャラクシアン基板, 海賊版) [Pierpaolo Prazzoli]
スノーブラザーズ (set 4) [Fabrice Arzeno]


新規未動作/クローンゲーム：
---------------------------

Lord of Gun
    プロテクトあり？

Taito JC System
    68040とmc68hc11m0のエミュレーションが必要
    電車でGO (1, 1ex, 2 高速編, 2 高速編3000番台)
    サイドバイサイド (1 & 2)
    ランディングギア
